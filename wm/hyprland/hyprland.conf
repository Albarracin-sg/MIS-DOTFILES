# ==========================
# CONFIGURACIÓN HYPRLAND v0.53.3
# ==========================
# Estado: SINTAXIS CORRECTA DEFINITIVA
# Versión: Hyprland 0.53.3
# ==========================

# ========================
# Monitores
# ========================
 
monitor = HDMI-A-1,1920x1080@120,1024x0,1
monitor = DP-2,1024x768@60,0x0,1

# ========================
# Autostart
# ========================
$wallpaper = /home/sandia/Imagenes/wallpapers/1769684794.mp4
exec-once = sleep 2 && mpvpaper --layer=bottom --fork -o "no-audio --loop --hwdec=auto --panscan=1.0" HDMI-A-1 $wallpaper
exec-once = sleep 2 && mpvpaper --layer=bottom --fork -o "no-audio --loop --hwdec=auto --panscan=1.0" DP-2 $wallpaper

exec-once = wl-paste --watch cliphist store
exec-once = cliphist store
exec-once = dunst -conf ~/.config/dunst/dunstrc
exec-once = easyeffects --gapplication-service
exec-once = hypridle
exec-once = ~/.config/hypr/autostart.conf
exec-once = eww kill
exec-once = eww daemon
exec-once = eww open bar_widget_0
exec-once = eww open bar_widget_1
exec-once = /usr/bin/lxqt-policykit-agent


# ========================
# Binds
# ========================
source = ~/.config/hypr/bind.conf

# ========================
# Variables de entorno
# ========================
env = XCURSOR_SIZE,24
env = XDG_SESSION_TYPE,wayland
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland

# ========================
# Input
# ========================
input {
  kb_layout = us
  numlock_by_default = true
  follow_mouse = 1
  sensitivity = 0
  touchpad {
    disable_while_typing = true
    natural_scroll = true
  }
}

# ========================
# Misc
# ========================
misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
}

# ========================
# General
# ========================
general {
  gaps_in = 5
  gaps_out = 10
  border_size = 2
  col.active_border = 0xffcba6f7
  col.inactive_border = 0xff313244
  layout = dwindle
}

# ========================
# Decoración
# ========================
decoration {
  rounding = 10
  active_opacity = 0.92
  inactive_opacity = 0.80
  blur {
    enabled = true
    size = 3
    passes = 1
  }
  shadow {
    enabled = true
    ignore_window = true
    range = 4
    offset = 2 2
    render_power = 2
    color = 0x66000000
  }
}

# ========================
# Animaciones
# ========================
animations {
  enabled = true
  bezier = smooth, 0.05, 0.9, 0.1, 1.05
  animation = windows, 1, 7, smooth
  animation = windowsOut, 1, 7, default, popin 80%
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 7, default
  animation = workspaces, 1, 6, default
}

# ========================
# Layouts
# ========================
dwindle {
  pseudotile = true
  preserve_split = true
}

master {
  new_status = master
  new_on_top = true
}

# ========================
# Gestos
# ========================
gestures {
}

# ========================
# REGLAS DE VENTANAS
# Sintaxis 0.53: windowrule = match:<tipo> <valor>, <regla> on/off
# IMPORTANTE: Reglas booleanas necesitan "on" o "off" al final
# ========================

# --- Opacidad global por defecto ---
windowrule = opacity 0.92 0.80

# --- Apps SIN transparencia ---
windowrule = match:class kitty, opacity 1.0 1.0
windowrule = match:class Alacritty, opacity 1.0 1.0
windowrule = match:class code, opacity 1.0 1.0
windowrule = match:class code-oss, opacity 1.0 1.0
windowrule = match:class TablePlus, opacity 1.0 1.0
windowrule = match:class TablePlus, no_blur on

# --- Kitty terminal ---
windowrule = match:class kitty, float on
windowrule = match:class kitty, center on
windowrule = match:class kitty, size 1000 700

# --- Firefox ---
windowrule = match:title ^(Media viewer), float on
windowrule = match:title ^(Picture-in-Picture), float on
windowrule = match:title ^(Firefox — Sharing Indicator), float on
windowrule = match:title ^(Firefox — Sharing Indicator), move 0 0

# --- Spotify ---
windowrule = match:class Spotify, opacity 0.65 0.45

# --- Rofi ---
windowrule = match:class Rofi, float on
windowrule = match:class Rofi, no_anim on
windowrule = match:class Rofi, opacity 0.92 0.78

# --- Control de Volumen ---
windowrule = match:title ^(Volume Control), float on
windowrule = match:title ^(Volume Control), size 800 600
windowrule = match:title ^(Volume Control), move 75 44%

# --- wlogout ---
windowrule = match:class wlogout, fullscreen on

# --- mpv ---
# Nota: idleinhibit no disponible en esta versión

# --- Ventanas flotantes genéricas ---
windowrule = match:class confirm, float on
windowrule = match:class dialog, float on
windowrule = match:class download, float on
windowrule = match:class notification, float on
windowrule = match:class error, float on
windowrule = match:class splash, float on
windowrule = match:class confirmreset, float on
windowrule = match:class file_progress, float on
windowrule = match:class zoom, float on
windowrule = match:class Lxappearance, float on
windowrule = match:class ncmpcpp, float on
windowrule = match:class viewnior, float on
windowrule = match:class pavucontrol-qt, float on
windowrule = match:class gucharmap, float on
windowrule = match:class gnome-font, float on

# --- Administradores de archivos ---
windowrule = match:class org.gnome.Settings, float on
windowrule = match:class file-roller, float on
windowrule = match:class nautilus, float on
windowrule = match:class nemo, float on
windowrule = match:class thunar, float on
windowrule = match:class Pcmanfm, float on
windowrule = match:class wdisplays, float on
windowrule = match:class zathura, float on

# --- Ventanas flotantes por título ---
windowrule = match:title ^(Open File), float on
windowrule = match:title ^(branchdialog), float on
windowrule = match:title ^(Transmission), float on

# --- Wine / Windows apps ---
windowrule = match:class (.*)\.exe, float on
windowrule = match:class (.*)\.exe, center on

# --- Seguridad ---
windowrule = match:class keepassxc, float on

# ==========================
# FIN DE CONFIGURACIÓN
# ==========================
